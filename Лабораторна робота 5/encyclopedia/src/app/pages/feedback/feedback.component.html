<header>
  <h1>Зворотній зв’язок</h1>
</header>

<main>
  <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()">
    <fieldset>
      <legend>Персональна інформація</legend>

      <div class="form-row">
        <label for="fullname">Прізвище та ім’я:</label>
        <input id="fullname" type="text" formControlName="fullname">
        <div class="error" *ngIf="f.fullname.touched && f.fullname.invalid">
          Вкажіть ім’я.
        </div>
      </div>

      <div class="form-row">
        <label for="email">E-mail:</label>
        <input id="email" type="email" formControlName="email">
        <div class="error" *ngIf="f.email.touched && f.email.invalid">
          Вкажіть коректну електронну адресу.
        </div>
      </div>

      <div class="form-row">
        <label for="age">Вік:</label>
        <input id="age" type="number" formControlName="age">
        <div class="error" *ngIf="f.age.touched && f.age.invalid">
          Вік повинен бути від 5 до 120.
        </div>
      </div>

      <div class="form-row">
        <label for="education">Освіта:</label>
        <select id="education" formControlName="education">
          <option value="">Оберіть...</option>
          <option value="повна">Повна</option>
          <option value="неповна">Неповна</option>
          <option value="вища">Вища</option>
          <option value="професійна">Професійна</option>
        </select>
        <div class="error" *ngIf="f.education.touched && f.education.invalid">
          Виберіть освіту.
        </div>
      </div>
    </fieldset>

    <div class="form-row">
      <label for="purpose">Мета зворотнього зв’язку:</label>
      <select id="purpose" formControlName="purpose">
        <option value="">Оберіть...</option>
        <option value="співпраця">Співпраця</option>
        <option value="скарга">Скарга на порушення права власності</option>
        <option value="пропозиція">Пропозиція</option>
        <option value="помилка">Наявність помилки</option>
      </select>
      <div class="error" *ngIf="f.purpose.touched && f.purpose.invalid">
        Виберіть мету звернення.
      </div>
    </div>

    <div class="form-row" style="position: relative;">
      <label for="details">Детально:</label>
      <textarea id="details"
                formControlName="details"
                rows="5" cols="40"
                maxlength="500"
                (mouseenter)="showTooltip = true"
                (mouseleave)="showTooltip = false"></textarea>
      <div class="details-tooltip" [class.show]="showTooltip">
        Ваша думка для нас важлива! Конкретизуйте мету звернення, будь ласка.
      </div>
      <p class="note">* Максимум 500 символів</p>
      <div class="error" *ngIf="f.details.touched && f.details.invalid">
        Опишіть деталі (до 500 символів).
      </div>
    </div>

    <div class="form-row">
      <label class="checkbox">
        <input type="checkbox" formControlName="consent">
        Я погоджуюся на обробку моєї інформації
      </label>
      <div class="error" *ngIf="f.consent.touched && f.consent.invalid">
        Потрібно погодитися.
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="feedbackForm.invalid">Відправити</button>
      <button type="reset">Очистити</button>
    </div>
  </form>
</main>
